<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Gamedev Canvas Workshop</title>
    <link rel="stylesheet" type="text/css" href= "style.css">
</head>
<body>

<div class='game'>
	<div id='terminal-div'>
		<textarea id="terminal-window" disabled="false"></textarea>
		<div id="terminal-cli"><span>>>></span><input type="text" maxlength="30" id="terminal-input"></div>
</div>

<canvas id="myCanvas" width="500" height="500"></canvas>
<script type="text/javascript" src="terminal.js"></script>
<script>


	var canvas = document.getElementById("myCanvas");
	var ctx = canvas.getContext("2d");
	var FPS = 30;
	var terminal_window = document.getElementById("terminal-window");
	var terminal_input = document.getElementById("terminal-input");
	var trm = new Terminal(terminal_input, terminal_window);
	var pressed = false;
	
	document.addEventListener("keydown", keyDownHandler, false);
	document.addEventListener("keyup", keyUpHandler, false);

	function keyDownHandler(e){
		if (e.key == "ArrowRight"){
			pressed = true;
		}
	}
	function keyUpHandler(e) {
		if (e.key == "ArrowRight"){
			pressed = false;
		}
	}

	function draw() {
		if(pressed == true){
			console.log("PRESSED")
			trm.get_input();
			trm.print_command();
		}
	}
	function update(){}

	setInterval(function() {
		  update();
		  draw();
		}, 1000/FPS);
	
	



</script>

</body>
</html>
